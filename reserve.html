<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">

        <title>Ember</title>

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- CSS IMPORTS -->

        <!-- Bootstrap 4-->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
        <!-- FontAwesome 5 -->
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
        <!-- Animate.CSS -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css" integrity="sha384-OHBBOqpYHNsIqQy8hL1U+8OXf9hH6QRxi0+EODezv82DfnZoV7qoHAZDwMwEJvSw" crossorigin="anonymous">


        <!-- JAVASCRIPT & JQUERY IMPORTS-->

        <!-- jQuery -->
        <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
        <!-- Bootstrap -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <!-- Bootstrap -->
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
    </head>
    <body>
      <div class="jumbotron text-center">
        <h1><i class="fas fa-fire"></i> Ember</h1>
        <hr class="my-4">
        <h3>Make a new Reservation</h3>
        <a class="btn btn-primary btn-lg" href="/tables" role="button"><i class="fas fa-table"></i> View Tables</a>
        <a class="btn btn-secondary btn-lg" href="/" role="button"><i class="fas fa-home"></i> Home</a>
      </div>

      <div class="card">
        <div class="card-header">
          <h3>New Reservations</h3>
        </div>
        <div class="card-body">
          <form>
            <div class="form-group">
              <label for="Name">Name</label>
              <input type="text" class="form-control" id="Name" placeholder="Enter Name">
            </div>
            <div class="form-group">
              <label for="PhoneNumber">Phone Number</label>
              <input type="number" class="form-control" id="PhoneNumber" placeholder="Enter Phone Number">
            </div>
            <div class="form-group">
              <label for="Email">Email address</label>
              <input type="email" class="form-control" id="Email" placeholder="Enter email">
            </div>
            <div class="form-group">
              <label for="ID">ID</label>
              <input type="text" class="form-control" id="ID" placeholder="Enter ID">
            </div>
            <button type="submit" class="btn btn-primary submit">Submit</button>
            </form>
        </div>
      </div>

      <a href="/api/reserve">API Table Link</a>
      <a href="/api/waiting">API Wait List</a>

      <script>
        $(".submit").on("click", () => {
          event.preventDefault();
          const newTable = {
            name: $("#Name").val().trim(),
            phone: $("#PhoneNumber").val().trim(),
            email: $("#Email").val().trim(),
            id: $("#ID").val().trim()
          };
          $.post("/api/reserve", newTable)
          .then(function(data) {
            if(data === "reserved") {
              alert("Your table has been reserved! ");
            }else{
              alert("You table has been added to the wait list! ");
            };
          });
        });
      </script>
      
    </body>
</html>